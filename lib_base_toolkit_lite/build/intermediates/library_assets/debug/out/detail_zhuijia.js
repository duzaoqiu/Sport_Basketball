!function(){var c=function(e){if("MyApp"in window)MyApp.showLog(e);else try{console.log(e)}catch(e){}},l=function(e){if("MyApp"in window)return MyApp.sign(e)};var p={"init":function(e){try{this.renderHTML(e),this.renderBets()}catch(e){c(e)}},"createHTML":function(e){var t="";return e.transmit?(t+=this.addNormalWrap(this.getExtras(e.subjectContent.transmitSupplementList)),t+=this.getSourceContent(e,"needWrap")):t+=this.getSourceContent(e),t},"getSourceContent":function(e,t){var a=e.subjectContent,r=a.sourceContent;return r+=this.getExtras(a.sourceSupplementList),"needWrap"===t?this.addSourceWrap(a,r):this.addNormalWrap(r)},"addNormalWrap":function(e){return'<div class="normal-article">'+e+"</div>"},"escapeHTML":function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},"addSourceWrap":function(e,t){var a="";return e.sourceTitle&&(a+='<h2 class="article-title">'+this.escapeHTML(e.sourceTitle)+"</h2>"),e.sourceAuthorName&&(a+='<span class="sub-title">\u6765\u6e90\u4e8e\uff1a'+e.sourceAuthorName+"</span>"),'<div class="source-article">'+a+t+"</div>"},"getExtras":function(e){return e&&e.length?e.map(function(e){return'<div class="extra-content"><span class="extra-title">'+e.gmtCreate+"</span>"+e.content+"</div>"}).join(""):""},"renderHTML":function(e){var t=document.createElement("main");t.innerHTML=this.createHTML(e),document.body.insertAdjacentElement("afterbegin",t);for(var n=document.querySelectorAll('img[data-role="upload"]'),i=e.fileNameAndHeightWidth||{},a=n.length,s=[],r=function(t){var e=n[t],a=e.getAttribute("src"),r=p.getParamName(a,"fileName");s.push(a),r&&(c=i[r])&&(l=c.split("&"),d=l[0],u=l[1],(h=window.screen.width)<u&&(d=d*h/u,u=h),e.style.height=d+"px",e.style.width=u+"px"),e.addEventListener("click",function(e){MyApp.showImage(t,JSON.stringify(s))},!1)},o=0;o<a;o++){var c,l,d,u,h;r(o)}},"getParamName":function(e,t){var a=RegExp("[?&]".concat(t,"=([^&]*)")).exec(e);return a&&decodeURIComponent(a[1].replace(/\+/g," "))},"renderBets":function(){var e=document.getElementsByTagName("a");[].forEach.call(e,function(e){"tag"===e.getAttribute("data-type")&&"project"===e.getAttribute("data-tag")&&this.renderBet(e,e.getAttribute("data-id"))}.bind(this))},"renderBet":function(r,e){var t,a,n,i,s=this,o=l(e);o&&(t=dataMap.kkApiUrl+o,a=function(e){if((e=e.response).success){var t=s.getTableData(e),a=s.getTableNode(t);r.parentNode.replaceChild(a,r)}else c("ajax data not success:"+JSON.stringify(e))},n=function(e){c("ajax error:"+e)},(i=new XMLHttpRequest).open("GET",t,!0),i.onreadystatechange=function(){if(4===this.readyState)if(200<=this.status&&this.status<400){var e=JSON.parse(this.responseText);a(e)}else n(this.responseText)},i.send())},"getTableData":function(e){var t={},a=e.purchaseOrder;return"JCZQ"===a.lotteryType.name?t.name="\u7ade\u5f69\u8db3\u7403":t.name="\u7ade\u5f69\u7bee\u7403",t.totalPaidFee=a.totalPaidFee,t.singleTotalFee=a.singleTotalFee,"FINISH"===a.prizeStatus.name?t.realPrizeFee=a.realPrizeFee:t.realPrizeFee="-",t},"getTableNode":function(e){var t=document.createElement("table");t.className="bet-table";var a="<td>-</td>",r=0<e.realPrizeFee?"award":"";return 0<=e.realPrizeFee&&(e.realPrizeFee,a='<td class="'+r+'">'+e.realPrizeFee+"\u5143</td>"),t.innerHTML='<thead><tr><th class="th1">\u7c7b\u578b</th><th class="th2">\u65b9\u6848\u91d1\u989d</th><th class="th3">\u5355\u500d\u91d1\u989d</th><th class="th4">\u5956\u91d1</th></tr></thead><tbody><tr><td>'+e.name+"</td><td>"+e.totalPaidFee+"\u5143</td><td>"+e.singleTotalFee+"\u5143</td>"+a+"</tr></tbody>",t}};window.onerror=function(e){c("js error: "+e)},window.onload=function(){c("init"),p.init(dataMap)}}();